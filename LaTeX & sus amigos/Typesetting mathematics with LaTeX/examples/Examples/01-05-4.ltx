%% 
%%  Example 01-05-4 
%%  Copyright (C) 2017 Herbert Voss
%% 
%% ==== 
% Show page(s) 1
%% 
%% 
\documentclass[]{exaarticle}
\pagestyle{empty}
\setlength\textwidth{328.62788pt}
\setlength\parindent{0pt}
%StartShownPreambleCommands
\makeatletter
\newif\if@borderstar
\def\bordermatrix{\@ifnextchar*{%
  \@borderstartrue\@bordermatrix@i}{\@borderstarfalse\@bordermatrix@i*}}
\def\@bordermatrix@i*{\@ifnextchar[{\@bordermatrix@ii}{\@bordermatrix@ii[()]}}
\def\@bordermatrix@ii[#1]#2{%
\begingroup
  \m@th\@tempdima8.75\p@\setbox\z@\vbox{%
    \def\cr{\crcr\noalign{\kern 2\p@\global\let\cr\endline }}%
    \ialign {$##$\hfil\kern 2\p@\kern\@tempdima & \thinspace
      \hfil $##$\hfil && \quad\hfil $##$\hfil\crcr\omit\strut
      \hfil\crcr\noalign{\kern -\baselineskip}#2\crcr\omit
      \strut\cr}}%
  \setbox\tw@\vbox{\unvcopy\z@\global\setbox\@ne\lastbox}%
  \setbox\tw@\hbox{\unhbox\@ne\unskip\global\setbox\@ne\lastbox}%
  \setbox\tw@\hbox{%
    $\kern\wd\@ne\kern -\@tempdima\left\@firstoftwo#1%
      \if@borderstar\kern2pt\else\kern -\wd\@ne\fi
    \global\setbox\@ne\vbox{\box\@ne\if@borderstar\else\kern 2\p@\fi}%
    \vcenter{\if@borderstar\else\kern -\ht\@ne\fi
      \unvbox\z@\kern-\if@borderstar2\fi\baselineskip}%
    \if@borderstar\kern-2\@tempdima\kern2\p@\else\,\fi\right\@secondoftwo#1 $%
  }\null \;\vbox{\kern\ht\@ne\box\tw@}%
\endgroup}
\makeatother
%StopShownPreambleCommands
\begin{document}
$\bordermatrix{%
  &  1 &  2 \cr
1 & x1 & x2 \cr
2 & x3 & x4 \cr
3 & x5 & x6 }$
$\bordermatrix[{[]}]{ &  1 &  2 \cr  1 & x1 & x2 \cr  2 & x3 & x4 \cr 3 & x5 & x6}$
$\bordermatrix[\{\}]{ &  1 &  2 \cr  1 & x1 & x2 \cr  2 & x3 & x4 \cr 3 & x5 & x6}$

$\bordermatrix*{%
 x1 & x2 & 1 \cr
 x3 & x4 & 2 \cr
 x5 & x6 & 3 \cr
  1 &  2 }$
$\bordermatrix*[{[]}]{x1 & x2 & 1 \cr  x3 & x4 & 2 \cr  x5 & x6 & 3 \cr  1 &  2}$
$\bordermatrix*[\{\}]{x1 & x2 & 1 \cr  x3 & x4 & 2 \cr  x5 & x6 & 3 \cr  1 &  2}$
\end{document}
