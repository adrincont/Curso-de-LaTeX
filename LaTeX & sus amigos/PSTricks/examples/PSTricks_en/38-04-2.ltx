%% 
%%  A DANTE-Edition example
%% 
%% 
%%  Copyright (C) 2010 Herbert Voss
%% 
%%  It may be distributed and/or modified under the conditions
%%  of the LaTeX Project Public License, either version 1.3
%%  of this license or (at your option) any later version.
%% 
%%  See http://www.latex-project.org/lppl.txt for details.
%% 
%% 
%% ==== 
% Show page(s) 1
%% 
\documentclass[]{article}
\pagestyle{empty}
\setlength\textwidth{201.70511pt}
\setlength\parindent{0pt}

\usepackage{pstricks}
\newcommand\kreis[1]{\ensuremath{\mathbin{\settowidth{\dimen7}{\mbox{$\bigcirc$}}%
              \makebox[0pt][l]{$\bigcirc$}\makebox[\dimen7]{#1}}}}

\begin{document}
\begin{pspicture}(0,-0.3)(4.5,-8.75)%\psset{unit=0.75cm}
\rput(0,-0.5){$X_0$}\rput(1.5,-0.5){$X_1$}\rput(3,-0.5){$X_2$}\rput(4.5,-0.5){$X_3$}
\psline{->}(0,-.75)(0,-1.1)\rput(0,-1.25){\kreis{e}}\psline{->}(0,-1.4)(0,-2.5)
\psline{->}(-1,-1.25)(-0.15,-1.25)\rput(-1.25,-1.25){$K0_0$}
\psline{->}(3,-.75)(3,-1.35)\rput(3,-1.5){\kreis{e}}\psline{->}(3,-1.65)(3,-2.5)
\psline{->}(5.5,-1.6)(3.15,-1.6)\rput(6,-1.6){$K0_2$}
\psline{->}(1.5,-.75)(1.5,-1.35)\rput(1.5,-1.5){\kreis{e}}\psline{->}(1.5,-1.65)(1.5,-2.5)
\psline{->}(-1,-1.6)(1.35,-1.6)\rput(-1.5,-1.6){$K0_1$}
\psline{->}(4.5,-.75)(4.5,-1.1)\rput(4.5,-1.25){\kreis{e}}\psline{->}(4.5,-1.4)(4.5,-2.5)
\psline{->}(5.5,-1.25)(4.65,-1.25)\rput(5.75,-1.25){$K0_3$}
\psframe(-0.5,-2.5)(5,-3.5)\rput(2.25,-2.75){multiply and}\rput(2.25,-3.25){permute}
\psline{->}(-1,-2.75)(-0.5,-2.75)\rput(-1.25,-2.75){$K1_0$}
\psline{->}(-1,-3.25)(-0.5,-3.25)\rput(-1.25,-3.25){$K1_1$}
\psline{->}(5.5,-2.75)(5,-2.75)\rput(6,-2.75){$K1_2$}
\psline{->}(5.5,-3.25)(5,-3.25)\rput(6,-3.25){$K1_3$}
%
\psline{->}(0,-3.5)(0,-4)\psline[linestyle=dotted](0,-4.25)(0,-4.5)
\psline{->}(1.5,-3.5)(1.5,-4)\psline[linestyle=dotted](1.5,-4.25)(1.5,-4.5)
\psline{->}(3,-3.5)(3,-4)\psline[linestyle=dotted](3,-4.25)(3,-4.5)
\psline{->}(4.5,-3.5)(4.5,-4)\psline[linestyle=dotted](4.5,-4.25)(4.5,-4.5)
%
\psline{->}(0,-4.75)(0,-5.25)
\psline{->}(1.5,-4.75)(1.5,-5.25)
\psline{->}(3,-4.75)(3,-5.25)
\psline{->}(4.5,-4.75)(4.5,-5.25)
%
\psframe(-0.5,-5.25)(5,-6.25)\rput(2.25,-5.5){multiply and}\rput(2.25,-6){permute}
\psline{->}(-1,-5.5)(-0.5,-5.5)\rput(-1.25,-5.5){$Kn_0$}
\psline{->}(-1,-6)(-0.5,-6)\rput(-1.25,-6){$Kn_1$}
\psline{->}(5.5,-5.5)(5,-5.5)\rput(6,-5.5){$Kn_2$}
\psline{->}(5.5,-6)(5,-6)\rput(6,-6){$Kn_3$}
%
\psline{->}(0,-6.25)(0,-6.75)
\psline{->}(1.5,-6.25)(1.5,-6.75)
\psline{->}(3,-6.25)(3,-6.75)
\psline{->}(4.5,-6.25)(4.5,-6.75)
%
\psframe(-0.5,-6.75)(5,-7.75)\rput(2.25,-7.25){SBoxes}
\psline{->}(-1,-7)(-0.5,-7)\rput(-1.25,-7){$Kr_0$}
\psline{->}(-1,-7.5)(-0.5,-7.5)\rput(-1.25,-7.5){$Kr_1$}
\psline{->}(5.5,-7)(5,-7)\rput(6,-7){$Kr_2$}
\psline{->}(5.5,-7.5)(5,-7.5)\rput(6,-7.5){$Kr_3$}
%
\psline{->}(0,-7.75)(0,-8.5)
\psline{->}(1.5,-7.75)(1.5,-8.5)
\psline{->}(3,-7.75)(3,-8.5)
\psline{->}(4.5,-7.75)(4.5,-8.5)
%
\rput(0,-8.75){$C_0$}\rput(1.5,-8.75){$C_1$}
\rput(3,-8.75){$C_2$}\rput(4.5,-8.75){$C_3$}
%\multido{\i=1+1, \n=-0.5+-0.5}{25}{\rput(-2,\n){\tiny\i}}
\psframe[linewidth=1pt, linestyle=dotted](-2,-2)(6.5,-6.5)
\end{pspicture}
\end{document}
